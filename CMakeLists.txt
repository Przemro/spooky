CMAKE_MINIMUM_REQUIRED(VERSION 3.0)
PROJECT(c003)

SET(CMAKE_RUNTIME_OUTPUT_DIRECTORY "${CMAKE_CURRENT_SOURCE_DIR}/bin")
SET(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -std=c++11")

if (ANDROID)
    INCLUDE_DIRECTORIES(${ANDROID_NDK}/platforms/android-8/arch-arm/usr/include)
    INCLUDE_DIRECTORIES(src)
    ADD_SUBDIRECTORY(src)
else ()
    ADD_EXECUTABLE(${PROJECT_NAME} main.cpp)
    INCLUDE_DIRECTORIES(src)
    ADD_SUBDIRECTORY(src)
    if(!MINGW)
        ADD_SUBDIRECTORY(tests)
    endif()
    TARGET_LINK_LIBRARIES(${PROJECT_NAME} c003_game)
endif ()